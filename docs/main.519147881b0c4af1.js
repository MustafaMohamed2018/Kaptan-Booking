"use strict";(self.webpackChunkkapitan=self.webpackChunkkapitan||[]).push([[179],{4581:(h,m,n)=>{n.d(m,{s:()=>S});var p=n(2572),c=n(7921),s=n(4716),g=n(5879),E=n(9862);let S=(()=>{class l{constructor(i){this.httpClient=i,this.baseUrl="https://kaptanvip.com/dev/api/v1/c/request/",this.hasOpenedPassneger=!1,this.isGettingCars=!1,this.api+=this.domainName,console.log("constructor"),console.log(window.location.href)}getAssets(){return this.httpClient.get(this.baseUrl,{params:{slug:this.domainName}})}getCars(i){return this.httpClient.post(this.api+"car/list",i)}saveOrder(i){return this.httpClient.post(this.api+"booking",i)}listenToChanges(i){this.listenRequ&&this.listenRequ.unsubscribe(),this.listenRequ=(0,p.a)([i.controls.first.controls.type.valueChanges,i.controls.second.controls.passengers.valueChanges]).pipe((0,c.O)([null,null])).subscribe(d=>{console.log("combineLatest",d);let u={type:d[0],number_of_customer:d[1]?.length,airport_id:i.controls.first.value.airport_id};this.cars=[],this.selectedCar=null,i.controls.second.controls.car_model_id.setValue(null),u.number_of_customer&&(this.isGettingCars=!0,this.carsSubscription&&this.carsSubscription.unsubscribe(),this.carsSubscription=this.getCars(u).pipe((0,s.x)(()=>this.isGettingCars=!1)).subscribe(f=>{this.cars=f.data.cars,console.log(this.cars)}))})}}return l.\u0275fac=function(i){return new(i||l)(g.LFG(E.eN))},l.\u0275prov=g.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},9849:(h,m,n)=>{var p=n(6593),c=n(266),s=n(5879);const g=[{path:"",loadChildren:()=>n.e(30).then(n.bind(n,6030)).then(t=>t.PagesModule)},{path:"**",redirectTo:""}];let E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[c.Bz.forRoot(g),c.Bz]}),t})();const S=[{name:"plan-up",path:"./assets/icons/plan up.svg"},{name:"plan-down",path:"./assets/icons/plan-down.svg"},{name:"arrows",path:"./assets/icons/arrows.svg"},{name:"calendar-clock",path:"./assets/icons/calendar-clock.svg"},{name:"users",path:"./assets/icons/users.svg"}];var l=n(617),A=n(4581);let i=(()=>{class t{constructor(e,a,o,y){this.matIconRegistry=e,this.domSanitizer=a,this.router=o,this.apiService=y,this.title="kapitan",this.apiService.domainName=(window.location.href||"")?.split("?")[1]?.split("=")[1],this.apiService.api=this.apiService.baseUrl+this.apiService.domainName+"/",this.router.navigate(["/"],{queryParams:{slug:this.apiService.domainName}});for(let C of S)this.matIconRegistry.addSvgIcon(C.name,this.domSanitizer.bypassSecurityTrustResourceUrl(C.path))}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.jv),s.Y36(p.H7),s.Y36(c.F0),s.Y36(A.s))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,a){1&e&&(s.TgZ(0,"main"),s._UZ(1,"router-outlet"),s.qZA())},dependencies:[c.lC]}),t})();var d=n(349),u=n(9862),f=n(1411),v=n(9515),R=n(5061),F=n(6814);function I(t,r){if(1&t&&(s.TgZ(0,"span",1),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&t){const e=r.$implicit;s.xp6(1),s.hij(" ",s.xi3(2,1,e.message,e.params)," ")}}let x=(()=>{class t extends f.Lq{}return t.\u0275fac=function(){let r;return function(a){return(r||(r=s.n5z(t)))(a||t)}}(),t.\u0275cmp=s.Xpm({type:t,selectors:[["app-error"]],features:[s.qOj],decls:1,vars:2,consts:[["class","invalid-feedback font-weight-bold",4,"ngFor","ngForOf","ngForTrackBy"],[1,"invalid-feedback","font-weight-bold"]],template:function(e,a){1&e&&s.YNc(0,I,3,4,"span",0),2&e&&s.Q6J("ngForOf",a.errors)("ngForTrackBy",a.trackByFn)},dependencies:[F.sg,v.X$],encapsulation:2,changeDetection:0}),t})();class M{constructor(){this.storedHandles={}}shouldDetach(r){return r.data.reuseComponent||!1}store(r,e){const a=this.createIdentifier(r);r.data.reuseComponent&&(this.storedHandles[a]=e)}shouldAttach(r){const e=this.createIdentifier(r);return!!r.routeConfig&&!!this.storedHandles[e]}retrieve(r){const e=this.createIdentifier(r);return r.routeConfig&&this.storedHandles[e]?this.storedHandles[e]:null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}createIdentifier(r){const e=r.pathFromRoot.map(o=>o.url),a=[].concat(...e).map(o=>o.path);return e.length+"-"+a.join("/")}}var T=n(8504),O=n(7398),P=n(6306),B=n(2939);let b=(()=>{class t{get translateService(){return this.injector.get(v.sK)}constructor(e,a,o){this.router=e,this._snackBar=a,this.injector=o}intercept(e,a){return a.handle(e).pipe((0,O.U)(o=>o),(0,P.K)(o=>(o.error instanceof Blob||(console.log(o),this.openSnackBar(0==o.status?"Error0":404==o.status?"Error404":500==o.status?"Error500":422==o.status?o.error.message:"ErrorUnknown",null,"error")),(0,T._)(o))))}openSnackBar(e,a=null,o="success",y="right",C="top"){this._snackBar.open(this.translateService.instant(e),a?this.translateService.instant(a):null,{horizontalPosition:y,verticalPosition:C,panelClass:o,duration:5e3})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(c.F0),s.LFG(B.ux),s.LFG(s.zs3))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();function D(t){return new R.w(t,"./assets/i18n/",".json")}let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t,bootstrap:[i]}),t.\u0275inj=s.cJS({providers:[{provide:c.wN,useClass:M},{provide:u.TP,useClass:b,multi:!0}],imports:[p.b2,E,d.PW,u.JF,B.ZX,v.aw.forRoot({loader:{provide:v.Zw,useFactory:D,deps:[u.eN]},defaultLanguage:"null"!=localStorage.getItem("lang")&&localStorage.getItem("lang")?localStorage.getItem("lang"):"en"}),f.h2.forRoot({blueprints:{required:"Errors.required",min:"\u0644\u0627 \u064a\u062c\u0628 \u0623\u0646 \u062a\u0642\u0644 \u0642\u064a\u0645\u0629 \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0639\u0646 {{ min }}",max:"\u0644\u0627 \u064a\u062c\u0628 \u0623\u0646 \u062a\u0632\u064a\u062f \u0642\u064a\u0645\u0629 \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0639\u0646 {{ max }}",minDate:"\u0644\u0627 \u064a\u062c\u0628 \u0623\u0646 \u064a\u0642\u0644 \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621 \u0639\u0646 {{ minDate }}",maxDate:"\u0644\u0627 \u064a\u062c\u0628 \u0623\u0646 \u064a\u0632\u064a\u062f \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u062a\u0647\u0627\u0621 {{ maxDate }}",lessThanStart:"\u062a\u0627\u0631\u064a\u062e \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0644\u0627 \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0642\u0628\u0644 \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621",matchError:"Errors.Match",minlength:"Errors.minLength",maxlength:"Errors.maxLength",email:"Errors.email",checkError:"Errors.check",cantBeNegative:"Errors.cantBeNegative",notValidInteger:"Errors.notValidInteger",NoZeros:"\u0642\u064a\u0645\u0629 \u063a\u064a\u0631 \u0635\u0627\u0644\u062d\u0629",validatePhoneNumber:"Errors.validatePhoneNumber"},errorTemplate:x,targetSelector:".form-group"})]}),t})();p.q6().bootstrapModule(L).catch(t=>console.error(t))}},h=>{h.O(0,[736],()=>h(h.s=9849)),h.O()}]);